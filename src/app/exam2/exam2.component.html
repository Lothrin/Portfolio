<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <div class="container-fluid">
    <i class="fa-solid fa-list px-2" style="color: #ffffff"></i>
    <a class="navbar-brand" routerLink="/exam2">MyPlanner</a>
    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link" aria-current="page" routerLink="/exam2">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link">Tasks</a>
        </li>
        <li class="nav-item">
          <a class="nav-link">Settings</a>
        </li>
      </ul>
      <div class="d-flex">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link"
              ><i class="fa-regular fa-bell" style="color: #ffffff">
                <span class="bg-success rounded-circle not">{{
                  toDoList.length
                }}</span></i
              ></a
            >
          </li>
        </ul>
      </div>
    </div>
  </div>
</nav>

<div class="hero">
  <img
    src="https://cdn.pixabay.com/photo/2018/06/20/07/33/planner-3485976_1280.jpg"
    class="img-fluid w-100 h-100"
    style="opacity: 0.8"
  />
  <p class="p-5">Weekly Planner</p>
</div>

<div class="container mt-5 mb-5">
  <div class="subtitle">
    <h4 id="tasks">Weekly Tasks</h4>
    <p>
      Sort by priority:
      <span>
        <i
          class="fa-solid fa-arrow-up-wide-short sort"
          (click)="sortTasks()"
        ></i
      ></span>
    </p>
  </div>

  <div class="row row-cols-lg-3 row-cols-md-2 row-cols-sm-1 row-cols-xs-1">
    <div *ngFor="let item of toDoList; let i = index" class="col mb-4">
      <div
        class="container shad mb-4 border rounded border-black border-opacity-10"
      >
        <div class="d-flex align-items-center">
          <p class="my-2 badge text-bg-info" style="--bs-bg-opacity: 0.5">
            Task
          </p>
          <p class="flex-grow-1 my-2">&nbsp;</p>
          <i
            class="fa-regular fa-bookmark my-2 px-3 bmark"
            (click)="toggleBookmark($event)"
          ></i>
          <i class="fa-solid fa-ellipsis-vertical my-2"></i>
        </div>
        <div class="card border-0" style="min-width: 100%">
          <img
            class="card-img-top border rounded border-dark-subtle p-1"
            [src]="item.image"
            alt="Card image cap"
          />
          <div class="card-body">
            <h5 class="card-title text-center">{{ item.title }}</h5>
            <p class="card-text text-center">{{ item.details }}</p>
          </div>
          <ul class="list-group list-group-flush">
            <li class="list-group-item">
              <i
                class="fa-solid fa-triangle-exclamation btnpriority"
                (click)="incrementPriority(i)"
              ></i>
              Priority level:
              <span
                [ngClass]="{
                  'bg-success': item.priority <= 1,
                  'bg-warning': item.priority > 1 && item.priority <= 3,
                  'bg-danger': item.priority > 3
                }"
                class="text-white px-1 rounded"
                >{{ item.priority }}</span
              >
            </li>
            <li class="list-group-item">
              <i class="fa-regular fa-calendar-days"></i> Deadline:
              {{ item.deadline }}
            </li>
          </ul>
          <div class="card-body d-flex justify-content-end">
            <button
              type="button"
              class="btn btn-danger me-2"
              (click)="deleteTask(i)"
            >
              <i class="fa-solid fa-trash-can"></i> Delete
            </button>
            <button
              type="button"
              class="btn btn-success"
              (click)="markAsDone(i)"
            >
              <i class="fa-regular fa-circle-check"></i> Done
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <h1 style="justify-content: center">Completed</h1>
  <div class="row row-cols-lg-3 row-cols-md-2 row-cols-sm-1 row-cols-xs-1">
    <div *ngFor="let item of completedItems" class="col mb-4">
      <div
        class="container shad mb-4 border rounded border-black border-opacity-10"
      >
        <div class="d-flex align-items-center">
          <p class="my-2 badge text-bg-info" style="--bs-bg-opacity: 0.5">
            Task
          </p>
          <p class="flex-grow-1 my-2">&nbsp;</p>
          <i
            class="fa-regular fa-bookmark my-2 px-3 bmark"
            (click)="toggleBookmark($event)"
          ></i>
          <i class="fa-solid fa-ellipsis-vertical my-2"></i>
        </div>
        <div class="card border-0" style="min-width: 100%">
          <img
            class="card-img-top border rounded border-dark-subtle p-1"
            [src]="item.image"
            alt="Card image cap"
          />
          <div class="card-body">
            <h5 class="card-title text-center">{{ item.title }}</h5>
            <p class="card-text text-center">{{ item.details }}</p>
          </div>
          <ul class="list-group list-group-flush">
            <li class="list-group-item">
              <i class="fa-regular fa-calendar-days"></i> Deadline:
              {{ item.deadline }}
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>
